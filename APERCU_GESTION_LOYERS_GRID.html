<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aper√ßu - Grille de Statut des Logements</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <style>
        body {
            background: #f8f9fa;
            padding: 20px;
        }
        
        /* Styles pour la grille de statut des logements */
        .properties-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .property-card {
            border: 3px solid;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            position: relative;
        }
        
        .property-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.2);
        }
        
        .property-card.status-paye {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            border-color: #28a745;
            color: white;
        }
        
        .property-card.status-impaye {
            background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);
            border-color: #dc3545;
            color: white;
        }
        
        .property-card.status-attente {
            background: linear-gradient(135deg, #ffc107 0%, #ff9800 100%);
            border-color: #ffc107;
            color: #333;
        }
        
        .property-card .property-icon {
            font-size: 48px;
            margin-bottom: 10px;
        }
        
        .property-card .property-reference {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .property-card .property-address {
            font-size: 13px;
            margin-bottom: 8px;
            opacity: 0.95;
        }
        
        .property-card .property-tenants {
            font-size: 12px;
            opacity: 0.9;
            margin-bottom: 10px;
        }
        
        .property-card .property-status-text {
            font-size: 14px;
            font-weight: bold;
            margin-top: 10px;
            padding: 5px 10px;
            border-radius: 5px;
            display: inline-block;
        }
        
        .property-card.status-paye .property-status-text {
            background-color: rgba(255,255,255,0.2);
        }
        
        .property-card.status-impaye .property-status-text {
            background-color: rgba(255,255,255,0.2);
        }
        
        .property-card.status-attente .property-status-text {
            background-color: rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
    <div class="container-fluid">
        <h1 class="mb-4"><i class="bi bi-cash-stack"></i> Gestion des Loyers - Aper√ßu de la Grille</h1>
        
        <div class="card mb-3">
            <div class="card-header">
                <h5 class="mb-0"><i class="bi bi-grid-3x3-gap"></i> √âtat des Logements</h5>
            </div>
            <div class="card-body">
                <p class="text-muted mb-3">
                    Cette grille affiche le statut global de chaque logement bas√© sur tous les mois de loyer:
                </p>
                <ul class="mb-4">
                    <li><strong>üü¢ Vert (Tous pay√©s)</strong>: Tous les loyers sont pay√©s pour ce logement</li>
                    <li><strong>üî¥ Rouge (Impay√©)</strong>: Au moins un loyer n'est pas pay√©</li>
                    <li><strong>üü† Orange (En attente)</strong>: Tous les loyers sont en attente (aucun impay√©)</li>
                </ul>
                
                <div class="properties-grid">
                    <!-- Exemple 1: Tous les loyers pay√©s (VERT) -->
                    <div class="property-card status-paye">
                        <div class="property-icon">‚úì</div>
                        <div class="property-reference">LOG-001</div>
                        <div class="property-address">15 Rue de la Paix, 75001 Paris</div>
                        <div class="property-tenants">Dupont Jean, Dupont Marie</div>
                        <div class="property-status-text">Tous les loyers pay√©s</div>
                    </div>
                    
                    <!-- Exemple 2: Au moins un impay√© (ROUGE) -->
                    <div class="property-card status-impaye">
                        <div class="property-icon">‚úó</div>
                        <div class="property-reference">LOG-002</div>
                        <div class="property-address">28 Avenue des Champs-√âlys√©es, 75008 Paris</div>
                        <div class="property-tenants">Martin Sophie</div>
                        <div class="property-status-text">Au moins un loyer impay√©</div>
                    </div>
                    
                    <!-- Exemple 3: En attente uniquement (ORANGE) -->
                    <div class="property-card status-attente">
                        <div class="property-icon">‚è≥</div>
                        <div class="property-reference">LOG-003</div>
                        <div class="property-address">42 Rue de Rivoli, 75004 Paris</div>
                        <div class="property-tenants">Bernard Pierre</div>
                        <div class="property-status-text">Loyers en attente</div>
                    </div>
                    
                    <!-- Exemple 4: Tous pay√©s -->
                    <div class="property-card status-paye">
                        <div class="property-icon">‚úì</div>
                        <div class="property-reference">LOG-004</div>
                        <div class="property-address">10 Boulevard Saint-Germain, 75005 Paris</div>
                        <div class="property-tenants">Moreau Claire</div>
                        <div class="property-status-text">Tous les loyers pay√©s</div>
                    </div>
                    
                    <!-- Exemple 5: Impay√© -->
                    <div class="property-card status-impaye">
                        <div class="property-icon">‚úó</div>
                        <div class="property-reference">LOG-005</div>
                        <div class="property-address">33 Rue du Faubourg Saint-Honor√©, 75008 Paris</div>
                        <div class="property-tenants">Petit Thomas, Petit Anna</div>
                        <div class="property-status-text">Au moins un loyer impay√©</div>
                    </div>
                    
                    <!-- Exemple 6: En attente -->
                    <div class="property-card status-attente">
                        <div class="property-icon">‚è≥</div>
                        <div class="property-reference">LOG-006</div>
                        <div class="property-address">7 Place de la Concorde, 75008 Paris</div>
                        <div class="property-tenants">Laurent Marc</div>
                        <div class="property-status-text">Loyers en attente</div>
                    </div>
                </div>
                
                <div class="alert alert-info mt-4">
                    <i class="bi bi-info-circle"></i> 
                    <strong>Note:</strong> Cliquez sur une carte pour acc√©der √† la vue d√©taill√©e du logement avec tous les mois affich√©s.
                </div>
            </div>
        </div>
        
        <div class="card">
            <div class="card-header bg-success text-white">
                <h5 class="mb-0">‚úÖ Fonctionnalit√©s Impl√©ment√©es</h5>
            </div>
            <div class="card-body">
                <h6>1. Grille de Statut des Logements</h6>
                <ul>
                    <li>Affichage en grille responsive (s'adapte √† la taille de l'√©cran)</li>
                    <li>Code couleur clair: Vert/Rouge/Orange</li>
                    <li>Informations compl√®tes: r√©f√©rence, adresse, locataires</li>
                    <li>Effet hover pour meilleure UX</li>
                    <li>Navigation vers vue d√©taill√©e en cliquant</li>
                </ul>
                
                <h6 class="mt-3">2. Statistiques Corrig√©es</h6>
                <ul>
                    <li>Biens en location: Compte tous les logements actifs</li>
                    <li>Loyers pay√©s ce mois: Compte uniquement le mois actuel</li>
                    <li>Loyers impay√©s: Compte les impay√©s du mois actuel</li>
                    <li>En attente: Compte les statuts en attente du mois actuel</li>
                </ul>
                
                <h6 class="mt-3">3. Mise √† Jour Automatique des Mois Pr√©c√©dents</h6>
                <ul>
                    <li>Tous les mois pass√©s en "attente" sont automatiquement chang√©s en "impay√©"</li>
                    <li>S'ex√©cute √† chaque chargement de la page</li>
                    <li>Ne modifie que les mois ant√©rieurs au mois actuel</li>
                    <li>Les loyers marqu√©s "pay√©" ne sont jamais modifi√©s automatiquement</li>
                </ul>
            </div>
        </div>
    </div>
</body>
</html>
